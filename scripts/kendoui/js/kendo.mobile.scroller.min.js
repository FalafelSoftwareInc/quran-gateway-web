/*
* Kendo UI Complete v2013.3.1119 (http://kendoui.com)
* Copyright 2013 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-complete-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
!function(define){return define(["./kendo.core.min","./kendo.fx.min","./kendo.draganddrop.min"],function(){!function(e){var n=window.kendo,i=n.mobile,t=n.effects,s=i.ui,o=e.proxy,l=e.extend,a=s.Widget,r=n.Class,c=n.ui.Movable,d=n.ui.Pane,u=n.ui.PaneDimensions,h=t.Transition,m=t.Animation,f=Math.abs,p=500,v=.7,b=.96,x=10,T=55,y=.5,g=5,_="km-scroller-release",E="km-scroller-refresh",C="pull",k="change",w="resize",z="scroll",S=m.extend({init:function(e){var n=this;m.fn.init.call(n),l(n,e),n.userEvents.bind("gestureend",o(n.start,n)),n.tapCapture.bind("press",o(n.cancel,n))},done:function(){return this.dimensions.minScale-this.movable.scale<.01},tick:function(){var e=this.movable;e.scaleWith(1.1),this.dimensions.rescale(e.scale)},onEnd:function(){var e=this.movable;e.scaleTo(this.dimensions.minScale),this.dimensions.rescale(e.scale)}}),M=m.extend({init:function(e){var n=this;m.fn.init.call(n),l(n,e,{transition:new h({axis:e.axis,movable:e.movable,onEnd:function(){n._end()}})}),n.tapCapture.bind("press",function(){n.cancel()}),n.userEvents.bind("end",o(n.start,n)),n.userEvents.bind("gestureend",o(n.start,n)),n.userEvents.bind("tap",o(n.onEnd,n))},onCancel:function(){this.transition.cancel()},freeze:function(e){var n=this;n.cancel(),n._moveTo(e)},onEnd:function(){var e=this;e._outOfBounds()?e._snapBack():e._end()},done:function(){return f(this.velocity)<1},start:function(e){var n=this;n.dimension.enabled&&(n._outOfBounds()?n._snapBack():(n.velocity=Math.max(Math.min(e.touch[n.axis].velocity*n.velocityMultiplier,T),-T),n.velocity?(n.tapCapture.captureNext(),m.fn.start.call(n)):n._end()))},tick:function(){var e=this,n=e.dimension,i=e._outOfBounds()?y:e.friction,t=e.velocity*=i,s=e.movable[e.axis]+t;!e.elastic&&n.outOfBounds(s)&&(s=Math.max(Math.min(s,n.max),n.min),e.velocity=0),e.movable.moveAxis(e.axis,s)},_end:function(){this.tapCapture.cancelCapture(),this.end()},_outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},_snapBack:function(){var e=this,n=e.dimension,i=e.movable[e.axis]>n.max?n.max:n.min;e._moveTo(i)},_moveTo:function(e){this.transition.moveTo({location:e,duration:p,ease:h.easeOutExpo})}}),O=m.extend({init:function(e){var i=this;n.effects.Animation.fn.init.call(this),l(i,e,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates(),this.moveTo(this.origin)},done:function(){return f(this.offset.y)<g&&f(this.offset.x)<g},onEnd:function(){this.moveTo(this.destination)},setCoordinates:function(e,n){this.offset={},this.origin=e,this.destination=n},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}),B=r.extend({init:function(n){var i=this,t="x"===n.axis,s=e('<div class="km-touch-scrollbar km-'+(t?"horizontal":"vertical")+'-scrollbar" />');l(i,n,{element:s,elementSize:0,movable:new c(s),scrollMovable:n.movable,size:t?"width":"height"}),i.scrollMovable.bind(k,o(i._move,i)),i.container.append(s)},_move:function(){var e=this,n=e.axis,i=e.dimension,t=i.size,s=e.scrollMovable,o=t/i.total,l=Math.round(-s[n]*o),a=Math.round(t*o);l+a>t?a=t-l:0>l&&(a+=l,l=0),e.elementSize!=a&&(e.element.css(e.size,a+"px"),e.elementSize=a),e.movable.moveAxis(n,l)},show:function(){this.element.css({opacity:v,visibility:"visible"})},hide:function(){this.element.css({opacity:0})}}),H=a.extend({init:function(e,i){var t,s,o,r,h,m,p,v,b,x=this;return a.fn.init.call(x,e,i),e=x.element,x._native=x.options.useNative&&n.support.hasNativeScrolling,x._native?(e.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>'),l(x,{scrollElement:e,fixedContainer:e.children().first()}),undefined):(e.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>'),t=e.children().eq(1),s=new n.TapCapture(e),o=new c(t),r=new u({element:t,container:e,forcedEnabled:x.options.zoom}),h=this.options.avoidScrolling,m=new n.UserEvents(e,{allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:x.options.zoom,start:function(e){r.refresh();var n=f(e.x.velocity),i=f(e.y.velocity),t=2*n>=i,s=2*i>=n;!h(e)&&x.enabled&&(r.x.enabled&&t||r.y.enabled&&s)?m.capture():m.cancel()}}),p=new d({movable:o,dimensions:r,userEvents:m,elastic:x.options.elastic}),v=new S({movable:o,dimensions:r,userEvents:m,tapCapture:s}),b=new O({moveTo:function(e){x.scrollTo(e.x,e.y)}}),o.bind(k,function(){x.scrollTop=-o.y,x.scrollLeft=-o.x,x.trigger(z,{scrollTop:x.scrollTop,scrollLeft:x.scrollLeft})}),l(x,{movable:o,dimensions:r,zoomSnapBack:v,animatedScroller:b,userEvents:m,pane:p,tapCapture:s,pulled:!1,enabled:!0,scrollElement:t,scrollTop:0,scrollLeft:0,fixedContainer:e.children().first()}),x._initAxis("x"),x._initAxis("y"),r.refresh(),x.options.pullToRefresh&&x._initPullToRefresh(),undefined)},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(e,n){this.dimensions.y.virtualSize(e,n)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:!1,pullOffset:140,elastic:!0,useNative:!1,avoidScrolling:function(){return!1},pullToRefresh:!1,pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"},events:[C,z,w],_resize:function(){this._native||this.dimensions.refresh(),this.reset()},setOptions:function(e){var n=this;a.fn.setOptions.call(n,e),e.pullToRefresh&&n._initPullToRefresh()},reset:function(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))},zoomOut:function(){var e=this.dimensions;e.refresh(),this._scale(e.fitScale),this.movable.moveTo(e.centerCoordinates())},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},scrollTo:function(e,n){this._native?(this.scrollElement.scrollLeft(e),this.scrollElement.scrollTop(n)):(this.dimensions.refresh(),this.movable.moveTo({x:e,y:n}))},animatedScrollTo:function(e,n){var i={x:this.movable.x,y:this.movable.y},t={x:e,y:n};this.animatedScroller.setCoordinates(i,t),this.animatedScroller.start()},pullHandled:function(){var e=this;e.refreshHint.removeClass(E),e.hintContainer.html(e.pullTemplate({})),e.yinertia.onEnd(),e.xinertia.onEnd()},destroy:function(){a.fn.destroy.call(this),this.userEvents&&this.userEvents.destroy()},_scale:function(e){this.dimensions.rescale(e),this.movable.scaleTo(e)},_initPullToRefresh:function(){var e=this;e.dimensions.y.forceEnabled(),e.pullTemplate=n.template(e.options.pullTemplate),e.releaseTemplate=n.template(e.options.releaseTemplate),e.refreshTemplate=n.template(e.options.refreshTemplate),e.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+e.pullTemplate({})+"</span></span>"),e.refreshHint=e.scrollElement.children().first(),e.hintContainer=e.refreshHint.children(".km-template"),e.pane.y.bind("change",o(e._paneChange,e)),e.userEvents.bind("end",o(e._dragEnd,e))},_dragEnd:function(){var e=this;e.pulled&&(e.pulled=!1,e.refreshHint.removeClass(_).addClass(E),e.hintContainer.html(e.refreshTemplate({})),e.yinertia.freeze(e.options.pullOffset/2),e.trigger("pull"))},_paneChange:function(){var e=this;e.movable.y/y>e.options.pullOffset?e.pulled||(e.pulled=!0,e.refreshHint.removeClass(E).addClass(_),e.hintContainer.html(e.releaseTemplate({}))):e.pulled&&(e.pulled=!1,e.refreshHint.removeClass(_),e.hintContainer.html(e.pullTemplate({})))},_initAxis:function(e){var n=this,i=n.movable,t=n.dimensions[e],s=n.tapCapture,o=new B({axis:e,movable:i,dimension:t,container:n.element});n.pane[e].bind(k,function(){o.show()}),n[e+"inertia"]=new M({axis:e,movable:i,tapCapture:s,userEvents:n.userEvents,dimension:t,elastic:n.options.elastic,friction:n.options.friction||b,velocityMultiplier:n.options.velocityMultiplier||x,end:function(){o.hide(),n.trigger("scrollEnd",{axis:e,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft})}})}});s.plugin(H)}(window.kendo.jQuery)})}("function"==typeof define&&define.amd?define:function(e,n){return n()});
//@ sourceMappingURL=kendo.mobile.scroller.min.js.map